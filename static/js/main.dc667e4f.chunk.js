(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{107:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),i=n(8),r=n.n(i),l=(n(90),n(35)),c=n(39),s=n(40),d=n(56),m=n(41),u=n(17),h=n(55),p=n(74),f=n(168),g=n(72),b=n.n(g),v=n(152),E=n(153),k=n(34),y=n(140),S=n(154),C=n(149),w=n(155),I=n(75),A=n(144),O=n(145),x=n(139),D=n(167),j=n(159),T=n(160),M=n(161),N=n(163),B=n(162),L=n(166),U=n(141),F=n(156),W=n(157),P=n(158),z=n(151),R=n(30),Y=n(68),H=n(143),G=n(108),J=n(110),V=n(164),_=n(148),Q=n(146),X=n(147),$=n(150),q=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={editingItem:!1,editingText:"",itemMenuAnchorEl:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.item,i=t.isItemActive,r=t.onCheck,l=t.onEdit,c=t.onDelete,s=this.state,d=s.editingItem,m=s.editingText,u=s.itemMenuAnchorEl,h=Boolean(u);return o.a.createElement(G.a,{className:"mb-4",component:J.a,elevation:i?4:1,style:{opacity:n.checked?.6:1}},!d&&o.a.createElement(a.Fragment,null,o.a.createElement(x.a,{primary:o.a.createElement(a.Fragment,null,o.a.createElement(V.a,{checked:n.checked,color:"primary"}),o.a.createElement("span",{style:{fontWeight:"bold",userSelect:"none",textDecoration:n.checked?"line-through":"none"}},n.text)),onClick:function(){return r(n.id)}}),o.a.createElement(y.a,{"aria-label":"item options","aria-owns":h?"item-menu":null,"aria-haspopup":"true",onClick:function(t){return e.setState({itemMenuAnchorEl:t.currentTarget})}},o.a.createElement(U.a,null)),o.a.createElement(I.a,{id:"item-menu",anchorEl:u,open:h,onClose:function(){return e.setState({itemMenuAnchorEl:null})}},o.a.createElement(A.a,{onClick:function(){return e.setState({editingItem:!0,editingText:n.text,itemMenuAnchorEl:null})}},o.a.createElement(O.a,null,o.a.createElement(Q.a,null)),o.a.createElement(x.a,{inset:!0,primary:"Edit"})),o.a.createElement(A.a,{onClick:function(){return c(n.id)}},o.a.createElement(O.a,null,o.a.createElement(X.a,null)),o.a.createElement(x.a,{inset:!0,primary:"Delete"})))),d&&o.a.createElement(_.a,{container:!0,className:"d-block d-sm-flex"},o.a.createElement(_.a,{item:!0,style:{flexGrow:1}},o.a.createElement(N.a,{fullWidth:!0,autoFocus:!0,onChange:function(t){return e.setState({editingText:t.target.value})},value:m})),o.a.createElement(_.a,{item:!0,className:"mt-3 mt-sm-0"},o.a.createElement(C.a,{className:"ml-2",variant:"contained",size:"small",color:"primary",onClick:function(){l(n.id,m),e.setState({editingItem:!1,editingText:""})}},o.a.createElement($.a,{style:{fontSize:20}}),o.a.createElement("span",{className:"d-none d-sm-block ml-1"},"Save")),o.a.createElement(C.a,{className:"ml-2",variant:"contained",size:"small",onClick:function(){e.setState({editingItem:!1,editingText:""})}},o.a.createElement(z.a,{style:{fontSize:20}}),o.a.createElement("span",{className:"d-none d-sm-block ml-1"},"Cancel")))))}}]),t}(a.Component);q.defaultProps={};var K=Object(R.SortableElement)(q),Z=function(e){var t=e.items,n=e.sortingItemIndex,a=e.onCheck,i=e.onEdit,r=e.onDelete,l=e.onSortStart,c=e.onSortEnd;return o.a.createElement(te,{items:t,sortingItemIndex:n,onCheck:a,onEdit:i,onDelete:r,onSortStart:l,onSortEnd:c,lockAxis:"y",useWindowAsScrollContainer:!0,transitionDuration:600,pressDelay:100,helperClass:"item--active"})};Z.defaultProps={items:[],sortingItemIndex:null};var ee=Z,te=Object(R.SortableContainer)(function(e){var t=e.items,n=e.sortingItemIndex,a=e.onCheck,i=e.onEdit,r=e.onDelete;return o.a.createElement(H.a,{style:{padding:0}},t.map(function(e,t){return o.a.createElement(K,{key:"item-".concat(e.id),index:t,item:e,isItemActive:n===t,onCheck:a,onEdit:i,onDelete:r})}))}),ne="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",ae=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Array(e).join().split(",").map(function(){return ne.charAt(Math.floor(Math.random()*ne.length))}).join("")},oe=function(e){return btoa(e.reduce(function(e,t){return e+"|".concat(t.text).concat(t.checked?"1":"0")},"").substr(1)).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")},ie=function(e){return"".concat(window.location.origin).concat(window.location.pathname).concat(e.length>0?"?import=".concat(oe(e)):"")},re=function(e){return e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"="),atob(e).replace(/(\d)\|/g,"$1".concat("{{proper_delimiter}}")).split("{{proper_delimiter}}").map(function(e){return{id:ae(),text:e.substring(0,e.length-1),checked:"1"===e.substring(e.length-1)}})},le=function(e){return function(e,t,n){var a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"".concat(a?e+" ":"").concat(1===e?t:n)}(e,"item","items",!(arguments.length>1&&void 0!==arguments[1])||arguments[1])};window.testShareMethod=function(e){var t=Array.isArray(e)?e:[{id:"GmQHYM3b8i",text:"Make to do list",checked:!0},{id:"HP3OJ6nOIG",text:"Realize you've already accomplished 2 things",checked:!0},{id:"t6brMWNG2d",text:"Check off first thing on to do list",checked:!0},{id:"DbxtHafhkH",text:"Reward yourself with nap",checked:!1}];console.log("itemsBefore:",t);var n=oe(t);console.log("itemsStringified:",n);var a=re(n);console.log("itemsAfter:",a);var o=t.reduce(function(e,t){return e+"|".concat(t.text).concat(t.checked?"1":"0")},"").substr(1),i=a.reduce(function(e,t){return e+"|".concat(t.text).concat(t.checked?"1":"0")},"").substr(1);console.log("X:",o),console.log("Y:",i),console.log("is items the same: ",o===i?"YES":"NO!")};var ce=Object(p.a)({palette:{primary:b.a},typography:{useNextVariants:!0}}),se=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={items:[],sortingItem:null,modalAddItemsOpen:!1,textareaAddItems:"",appMenuAnchorEl:null,confirmCounterdeleteAllChecked:0,confirmCounterdeleteAllItems:0,snackbarCopiedConfirmOpen:!1,snackbarDeletedUndoOpen:!1,itemsToBeImport:[],itemsBeforeDeletion:[]},n.loadStateFromLocalStorage=n.loadStateFromLocalStorage.bind(Object(u.a)(n)),n.saveStateToLocalStorage=n.saveStateToLocalStorage.bind(Object(u.a)(n)),n.checkForImports=n.checkForImports.bind(Object(u.a)(n)),n.onSortStart=n.onSortStart.bind(Object(u.a)(n)),n.onSortEnd=n.onSortEnd.bind(Object(u.a)(n)),n.onAdd=n.onAdd.bind(Object(u.a)(n)),n.onCheck=n.onCheck.bind(Object(u.a)(n)),n.onEdit=n.onEdit.bind(Object(u.a)(n)),n.onDelete=n.onDelete.bind(Object(u.a)(n)),n.onDeleteAllChecked=n.onDeleteAllChecked.bind(Object(u.a)(n)),n.onDeleteAllItems=n.onDeleteAllItems.bind(Object(u.a)(n)),n.handleImportConflictClose=n.handleImportConflictClose.bind(Object(u.a)(n)),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadStateFromLocalStorage().then(function(){e.checkForImports()})}},{key:"loadStateFromLocalStorage",value:function(){var e=this;return new Promise(function(t){var n=JSON.parse(localStorage.getItem("list"));Array.isArray(n)?e.setState({items:n},function(){return t()}):t()})}},{key:"saveStateToLocalStorage",value:function(){var e=this;return new Promise(function(t){localStorage.setItem("list",JSON.stringify(e.state.items)),t()})}},{key:"checkForImports",value:function(){var e=this,t=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var a=t[n].indexOf("=");if(t[n].substr(0,a)===e)return t[n].substr(a+1)}return!1}("import");if(!1!==t&&""!==t){var n=re(t);Array.isArray(n)&&0!==n.length&&(0===this.state.items.length?this.setState({items:n},function(){e.saveStateToLocalStorage().then(function(){window.location.href="".concat(window.location.origin).concat(window.location.pathname)})}):this.setState({itemsToBeImport:n}))}}},{key:"onSortStart",value:function(e){var t=e.index;this.setState({sortingItem:t})}},{key:"onSortEnd",value:function(e){var t=this,n=e.oldIndex,a=e.newIndex,o=Object(R.arrayMove)(this.state.items,n,a);this.setState({items:o,sortingItem:null},function(){t.saveStateToLocalStorage()})}},{key:"onAdd",value:function(e){var t=e.trim().replace("\r","").split("\n").map(function(e){return{id:ae(),text:e,checked:!1}});this.overwriteItems([].concat(Object(l.a)(this.state.items),Object(l.a)(t)))}},{key:"onCheck",value:function(e){var t=this.state.items.map(function(t){return t.id===e&&(t.checked=!t.checked),t});this.overwriteItems(t)}},{key:"onEdit",value:function(e,t){var n=this.state.items.map(function(n){return n.id===e&&(n.text=t),n});this.overwriteItems(n)}},{key:"onDelete",value:function(e){var t=this;this.setState({itemsBeforeDeletion:this.state.items,snackbarDeletedUndoOpen:!0},function(){var n=t.state.items.filter(function(t){return t.id!==e});t.overwriteItems(n)})}},{key:"onDeleteAllChecked",value:function(){var e=this;this.setState({itemsBeforeDeletion:this.state.items,snackbarDeletedUndoOpen:!0},function(){var t=e.state.items.filter(function(e){return!e.checked});e.overwriteItems(t)})}},{key:"onDeleteAllItems",value:function(){var e=this;this.setState({itemsBeforeDeletion:this.state.items,snackbarDeletedUndoOpen:!0},function(){e.overwriteItems([])})}},{key:"onUndoDeletion",value:function(){var e=this;this.overwriteItems(this.state.itemsBeforeDeletion).then(function(){e.setState({itemsBeforeDeletion:[]})})}},{key:"overwriteItems",value:function(e){var t=this;return new Promise(function(n){t.setState({items:e},function(){t.saveStateToLocalStorage().then(function(){n()})})})}},{key:"handleImportConflictClose",value:function(){this.setState({itemsToBeImport:[]},function(){window.location.href="".concat(window.location.origin).concat(window.location.pathname)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.items,i=t.sortingItem,r=t.modalAddItemsOpen,c=t.textareaAddItems,s=t.appMenuAnchorEl,d=t.confirmCounterdeleteAllChecked,m=t.confirmCounterdeleteAllItems,u=t.snackbarCopiedConfirmOpen,h=t.snackbarDeletedUndoOpen,p=t.itemsToBeImport,g=t.itemsBeforeDeletion,b=Boolean(s),R=p.length>0,H=n.some(function(e){return e.checked});return o.a.createElement(f.a,{theme:ce},o.a.createElement(v.a,{position:"static",className:"mb-5"},o.a.createElement(E.a,null,o.a.createElement(k.a,{variant:"h6",color:"inherit",style:{flexGrow:1},title:"Version ".concat(window.appVersion)},"List List"),o.a.createElement(y.a,{"aria-label":"app options","aria-owns":b?"app-options":null,"aria-haspopup":"true",onClick:function(t){return e.setState({appMenuAnchorEl:t.currentTarget})},color:"inherit"},o.a.createElement(U.a,{color:"inherit"})))),o.a.createElement("div",{className:"container px-0",style:{paddingBottom:108}},0===n.length&&o.a.createElement(a.Fragment,null,o.a.createElement("p",{className:"text-center p-3"},"Your list is empty! You can easily add items to it by pressing the button below"),o.a.createElement(S.a,{in:!r},o.a.createElement("p",{className:"text-center"},o.a.createElement(C.a,{variant:"contained",color:"primary","aria-label":"add",onClick:function(){return e.setState({modalAddItemsOpen:!0})}},"Add items")))),n.length>0&&o.a.createElement(ee,{items:n,sortingItemIndex:i,onSortEnd:this.onSortEnd,onCheck:this.onCheck,onEdit:this.onEdit,onDelete:this.onDelete,onSortStart:this.onSortStart})),o.a.createElement(S.a,{in:!r},o.a.createElement(w.a,{color:"primary","aria-label":"add",onClick:function(){return e.setState({modalAddItemsOpen:!0})},style:{position:"fixed",bottom:26,right:26}},o.a.createElement(F.a,null))),o.a.createElement(I.a,{id:"app-options",anchorEl:s,open:b,onClose:function(){return e.setState({appMenuAnchorEl:null})},onExited:function(){return e.setState({confirmCounterdeleteAllItems:0})}},o.a.createElement(Y.CopyToClipboard,{text:ie(this.state.items),onCopy:function(t,n){""!==t&&n?e.setState({snackbarCopiedConfirmOpen:!0,appMenuAnchorEl:null}):(console.log("ERROR - CopyToClipboard.onCopy() - (text, result):",t,n),alert("Some error occurred when copying to clipboard but here is the link:\n"+ie(e.state.items)))}},o.a.createElement(A.a,null,o.a.createElement(O.a,null,o.a.createElement(W.a,null)),o.a.createElement(x.a,{inset:!0,primary:"Copy share link"}))),H&&o.a.createElement(A.a,{onClick:function(){1===d?(e.onDeleteAllChecked(),e.setState({confirmCounterdeleteAllChecked:0,appMenuAnchorEl:null})):e.setState({confirmCounterdeleteAllChecked:d+1})}},o.a.createElement(O.a,null,o.a.createElement(P.a,null)),o.a.createElement(x.a,{inset:!0,primary:0===d?"Delete all checked":"Are you sure?"})),o.a.createElement(A.a,{onClick:function(){1===m?(e.onDeleteAllItems(),e.setState({confirmCounterdeleteAllItems:0,appMenuAnchorEl:null})):e.setState({confirmCounterdeleteAllItems:m+1})}},o.a.createElement(O.a,null,o.a.createElement(P.a,null)),o.a.createElement(x.a,{inset:!0,primary:0===m?"Delete all":"Are you sure?"}))),o.a.createElement(D.a,{open:r,onClose:function(){return e.setState({modalAddItemsOpen:!1})},"aria-labelledby":"dialog-title","aria-describedby":"dialog-description"},o.a.createElement(j.a,{id:"dialog-title"},"Add to list"),o.a.createElement(T.a,null,o.a.createElement(M.a,{id:"dialog-description"},"You can add many by spliting them into multiple lines"),o.a.createElement(N.a,{rows:"7",multiline:!0,fullWidth:!0,autoFocus:!0,onChange:function(t){return e.setState({textareaAddItems:t.target.value})},value:c})),o.a.createElement(B.a,null,o.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(){e.onAdd(c),e.setState({modalAddItemsOpen:!1,textareaAddItems:""})}},"Add them"))),o.a.createElement(L.a,{anchorOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:function(t,n){"clickaway"!==n&&e.setState({snackbarCopiedConfirmOpen:!1})},autoHideDuration:2e3,ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},"Link copied!")}),o.a.createElement(L.a,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:h,onClose:function(t,n){"clickaway"!==n&&e.setState({snackbarDeletedUndoOpen:!1})},autoHideDuration:4e3,ContentProps:{"aria-describedby":"message-id"},message:o.a.createElement("span",{id:"message-id"},le(g.length-n.length)," have been deleted"),action:[o.a.createElement(C.a,{key:"undo",variant:"contained",color:"secondary",size:"small",onClick:function(){e.onUndoDeletion(),e.setState({snackbarDeletedUndoOpen:!1})}},"Undo"),o.a.createElement(y.a,{key:"close","aria-label":"Close",color:"inherit",onClick:function(){return e.setState({snackbarDeletedUndoOpen:!1})}},o.a.createElement(z.a,null))]}),o.a.createElement(D.a,{open:R,onClose:this.handleImportConflictClose,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description"},o.a.createElement(j.a,{id:"dialog-title"},"Import conflict detected"),o.a.createElement(T.a,null,o.a.createElement(M.a,{id:"dialog-description"},"You are trying to import ",le(p.length)," but there are already ",le(n.length)," on your list. What do you want to do?")),o.a.createElement(B.a,null,o.a.createElement(C.a,{variant:"contained",color:"primary",onClick:function(){e.overwriteItems([].concat(Object(l.a)(n),Object(l.a)(p))).then(function(){e.handleImportConflictClose()})}},"Merge"),o.a.createElement(C.a,{variant:"contained",color:"secondary",onClick:function(){e.overwriteItems(p).then(function(){e.handleImportConflictClose()})}},"Overwrite"),o.a.createElement(C.a,{variant:"contained",color:"default",style:{position:"absolute",left:4},onClick:function(){e.handleImportConflictClose()}},"Cancel"))))}}]),t}(a.Component),de=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function me(e,t){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var n=e.installing;null!=n&&(n.onstatechange=function(){"installed"===n.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See http://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}}).catch(function(e){console.error("Error during service worker registration:",e)})}var ue=n(73);window.appVersion=ue.version,r.a.render(o.a.createElement(se,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("/listlist",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="".concat("/listlist","/service-worker.js");de?(function(e,t){fetch(e).then(function(n){var a=n.headers.get("content-type");404===n.status||null!=a&&-1===a.indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):me(e,t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(t,e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit http://bit.ly/CRA-PWA")})):me(t,e)})}}()},73:function(e){e.exports={name:"listlist",version:"1.5.2",description:"Simple, sortable, mobile-friendly todo list.",author:{name:"Sigur\xf0ur Sn\xe6r Eir\xedksson",email:"sse1987@gmail.com"},homepage:"https://sse87.github.io/listlist",dependencies:{"@material-ui/core":"^4.2.0","@material-ui/icons":"^4.2.1","prop-types":"^15.7.2",react:"^16.8.6","react-copy-to-clipboard":"^5.0.1","react-dom":"^16.8.6","react-scripts":"3.0.1","react-sortable-hoc":"^1.9.1"},devDependencies:{"gh-pages":"^2.0.1",standard:"^13.0.2"},scripts:{start:"react-scripts start",build:"react-scripts build",test:"react-scripts test --env=jsdom",predeploy:"npm run build",deploy:"gh-pages -d build"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"]}},85:function(e,t,n){e.exports=n(107)},90:function(e,t,n){}},[[85,1,2]]]);
//# sourceMappingURL=main.dc667e4f.chunk.js.map