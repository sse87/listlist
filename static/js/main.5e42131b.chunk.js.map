{"version":3,"sources":["components/ItemItem/ItemItem.js","components/ListList/ListList.js","utilityFunctions.js","App.js","registerServiceWorker.js","index.js"],"names":["ItemItem","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","editingItem","editingText","itemMenuAnchorEl","_this2","_this$props","item","isItemActive","onCheck","onEdit","onDelete","_this$state","itemMenuOpen","Boolean","react_default","a","createElement","index_es","className","component","Paper","elevation","style","opacity","checked","react","primary","color","fontWeight","userSelect","textDecoration","text","onClick","id","aria-label","aria-owns","aria-haspopup","e","setState","currentTarget","icons_index_es","anchorEl","open","onClose","inset","container","flexGrow","fullWidth","autoFocus","onChange","target","value","variant","size","fontSize","Component","defaultProps","SortableElement","ListList","_ref","items","sortingItemIndex","onSortStart","onSortEnd","SortableList","lockAxis","useWindowAsScrollContainer","transitionDuration","pressDelay","helperClass","SortableContainer","_ref2","List_default","padding","map","index","components_ItemItem_ItemItem","key","concat","ALPHABET","makeId","length","arguments","undefined","Array","join","split","charAt","Math","floor","random","stringifyItems","btoa","reduce","acc","curr","substr","replace","getShareLink","window","location","origin","pathname","parseItems","strItems","atob","strItem","substring","pluralItems","nr","singularWord","pluralWord","includeNr","plural","testShareMethod","itemsX","isArray","console","log","itemsStringified","itemsY","x","y","theme","createMuiTheme","palette","indigo","typography","useNextVariants","App","sortingItem","modalAddItemsOpen","textareaAddItems","appMenuAnchorEl","confirmCounterdeleteAllChecked","confirmCounterdeleteAllItems","snackbarCopiedConfirmOpen","snackbarDeletedUndoOpen","itemsToBeImport","itemsBeforeDeletion","loadStateFromLocalStorage","bind","assertThisInitialized","saveStateToLocalStorage","checkForImports","onAdd","onDeleteAllChecked","onDeleteAllItems","handleImportConflictClose","then","_this3","Promise","resolve","JSON","parse","localStorage","getItem","_this4","setItem","stringify","_this5","importString","vars","search","i","posSplit","indexOf","getQueryVariable","newItems","href","_this6","oldIndex","newIndex","arrayMove","trim","overwriteItems","toConsumableArray","newText","_this7","filter","_this8","_this9","_this10","_this11","_this12","menuAppOpen","modalImportConflictOpen","isAnyItemsChecked","some","styles","position","title","appVersion","paddingBottom","in","components_ListList_ListList","bottom","right","onExited","lib","onCopy","result","alert","aria-labelledby","aria-describedby","rows","multiline","anchorOrigin","vertical","horizontal","event","reason","autoHideDuration","ContentProps","message","action","onUndoDeletion","left","isLocalhost","hostname","match","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","catch","error","packageJson","version","ReactDOM","render","src_App","document","getElementById","URL","process","addEventListener","fetch","response","status","headers","get","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"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","file":"static/js/main.5e42131b.chunk.js","sourcesContent":["import React, { Component, Fragment } from 'react'\nimport PropTypes from 'prop-types'\nimport { SortableElement } from 'react-sortable-hoc'\nimport {\n  ListItem,\n  ListItemIcon,\n  ListItemText,\n  IconButton,\n  MenuItem,\n  Menu,\n  Checkbox,\n  Paper,\n  Grid,\n  TextField,\n  Button\n} from '@material-ui/core'\nimport {\n  MoreVert as MoreIcon,\n  Edit as EditIcon,\n  Check as CheckIcon,\n  Close as CloseIcon,\n  Delete as DeleteIcon\n} from '@material-ui/icons'\n\nclass ItemItem extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      editingItem: false,\n      editingText: '',\n      itemMenuAnchorEl: null\n    }\n  }\n\n  render () {\n    const { item, isItemActive, onCheck, onEdit, onDelete } = this.props\n    const { editingItem, editingText, itemMenuAnchorEl } = this.state\n\n    const itemMenuOpen = Boolean(itemMenuAnchorEl)\n\n    return (\n      <ListItem\n        className='mb-4'\n        component={Paper}\n        elevation={isItemActive ? 4 : 1}\n        style={{ opacity: item.checked ? 0.6 : 1 }}\n      >\n        {!editingItem &&\n        <Fragment>\n          <ListItemText\n            primary={\n              <Fragment>\n                <Checkbox checked={item.checked} color='primary' />\n                <span style={{ fontWeight: 'bold', userSelect: 'none', textDecoration: (item.checked ? 'line-through' : 'none') }}>{item.text}</span>\n              </Fragment>\n            }\n            onClick={() => onCheck(item.id)}\n          />\n          <IconButton\n            aria-label='item options'\n            aria-owns={itemMenuOpen ? 'item-menu' : null}\n            aria-haspopup='true'\n            onClick={(e) => this.setState({ itemMenuAnchorEl: e.currentTarget })}\n          >\n            <MoreIcon />\n          </IconButton>\n          <Menu\n            id='item-menu'\n            anchorEl={itemMenuAnchorEl}\n            open={itemMenuOpen}\n            onClose={() => this.setState({ itemMenuAnchorEl: null })}\n          >\n            <MenuItem onClick={() => this.setState({ editingItem: true, editingText: item.text, itemMenuAnchorEl: null })}>\n              <ListItemIcon><EditIcon /></ListItemIcon>\n              <ListItemText inset primary='Edit' />\n            </MenuItem>\n            <MenuItem onClick={() => onDelete(item.id)}>\n              <ListItemIcon><DeleteIcon /></ListItemIcon>\n              <ListItemText inset primary='Delete' />\n            </MenuItem>\n          </Menu>\n        </Fragment>\n        }\n        {editingItem &&\n          <Grid container className='d-block d-sm-flex'>\n            <Grid item style={{ flexGrow: 1 }}>\n              <TextField\n                fullWidth\n                autoFocus\n                onChange={(e) => this.setState({ editingText: e.target.value })}\n                value={editingText}\n              />\n            </Grid>\n            <Grid item className='mt-3 mt-sm-0'>\n              <Button className='ml-2' variant='contained' size='small' color='primary' onClick={() => {\n                onEdit(item.id, editingText)\n                this.setState({ editingItem: false, editingText: '' })\n              }}>\n                <CheckIcon style={{ fontSize: 20 }} />\n                <span className='d-none d-sm-block ml-1'>Save</span>\n              </Button>\n              <Button className='ml-2' variant='contained' size='small' onClick={() => {\n                this.setState({ editingItem: false, editingText: '' })\n              }}>\n                <CloseIcon style={{ fontSize: 20 }} />\n                <span className='d-none d-sm-block ml-1'>Cancel</span>\n              </Button>\n            </Grid>\n          </Grid>\n        }\n      </ListItem>\n    )\n  }\n}\n\nItemItem.propTypes = {\n  item: PropTypes.object.isRequired,\n  isItemActive: PropTypes.bool.isRequired,\n  onCheck: PropTypes.func.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired\n}\n\nItemItem.defaultProps = {\n}\n\nexport default SortableElement(ItemItem)\n","import React from 'react'\nimport PropTypes from 'prop-types'\nimport { SortableContainer } from 'react-sortable-hoc'\nimport List from '@material-ui/core/List'\n\nimport ItemItem from '../ItemItem'\n\nconst ListList = ({ items, sortingItemIndex, onCheck, onEdit, onDelete, onSortStart, onSortEnd }) => {\n  return (\n    <SortableList\n      items={items}\n      sortingItemIndex={sortingItemIndex}\n      onCheck={onCheck}\n      onEdit={onEdit}\n      onDelete={onDelete}\n      onSortStart={onSortStart}\n      onSortEnd={onSortEnd}\n      lockAxis='y'\n      useWindowAsScrollContainer\n      transitionDuration={600}\n      pressDelay={100}\n      helperClass='item--active'\n    />\n  )\n}\n\nListList.propTypes = {\n  items: PropTypes.arrayOf(PropTypes.object),\n  sortingItemIndex: PropTypes.number,\n  onCheck: PropTypes.func.isRequired,\n  onEdit: PropTypes.func.isRequired,\n  onDelete: PropTypes.func.isRequired,\n  onSortStart: PropTypes.func.isRequired,\n  onSortEnd: PropTypes.func.isRequired\n}\n\nListList.defaultProps = {\n  items: [],\n  sortingItemIndex: null\n}\n\nexport default ListList\n\n// Wrapper\nconst SortableList = SortableContainer(({ items, sortingItemIndex, onCheck, onEdit, onDelete }) => (\n  <List style={{ padding: 0 }}>\n    {items.map((item, index) => (\n      <ItemItem\n        key={`item-${item.id}`}\n        index={index}\n        item={item}\n        isItemActive={sortingItemIndex === index}\n        onCheck={onCheck}\n        onEdit={onEdit}\n        onDelete={onDelete}\n      />\n    ))}\n  </List>\n))\n","/* globals btoa, atob */\n\nconst ALPHABET = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789'\nexport const makeId = (length = 10) => (\n  Array(length).join().split(',').map(() => (\n    ALPHABET.charAt(Math.floor(Math.random() * ALPHABET.length))\n  )).join('')\n)\n\n// Replace non-url-safe characters to more safe ones, replacing '+', '/' and '=' to '.', '_' and '-' respectively\nconst makeBase64UrlSafe = str => str.replace(/\\+/g, '.').replace(/\\//g, '_').replace(/=/g, '-')\n// Replace the saem url-safe characters back to standard base64 characters\nconst makeUrlBase64Safe = str => str.replace(/\\./g, '+').replace(/_/g, '/').replace(/-/g, '=')\n// Base64 characters are 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/' and = for padding\n// Last 3 are not safe for URLs\n\nexport const stringifyItems = (items) => (\n  // Before base64 encoded, each item will be minimized like this:\n  // 'Make to do list1|Realize you've already accomplished 2 things1|Check off first thing on to do list1|Reward yourself with nap0'\n  makeBase64UrlSafe(btoa(items.reduce((acc, curr) => (\n    acc += `|${curr.text}${curr.checked ? '1' : '0'}`\n  ), '').substr(1)))\n)\n\nexport const getShareLink = (items) => (\n  `${window.location.origin}${window.location.pathname}${items.length > 0 ? `?import=${stringifyItems(items)}` : ''}`\n)\n\nexport const parseItems = (strItems) => {\n  const delimiter = '{{proper_delimiter}}'\n  strItems = makeUrlBase64Safe(strItems)\n  // Find all cases with digit and double quotation together and split it removing only the double quotation\n  // Then we have array of strings and at the end of the string should be 0 or 1 for unchecked or checked respectively\n  return atob(strItems).replace(/(\\d)\\|/g, `$1${delimiter}`).split(delimiter).map((strItem) => ({\n    id: makeId(),\n    text: strItem.substring(0, strItem.length - 1),\n    checked: strItem.substring(strItem.length - 1) === '1'\n  }))\n}\n\nexport const getQueryVariable = (key) => {\n  const query = window.location.search.substring(1)\n  const vars = query.split('&')\n  for (let i = 0; i < vars.length; i++) {\n    const posSplit = vars[i].indexOf('=')\n    if (vars[i].substr(0, posSplit) === key) {\n      return vars[i].substr(posSplit + 1)\n    }\n  }\n  return false\n}\n\n// export const delay = (ms = 1000) => new Promise(resolve => setTimeout(resolve, ms))\n\nexport const plural = (nr, singularWord, pluralWord, includeNr = true) => (\n  `${includeNr ? nr + ' ' : ''}${nr === 1 ? singularWord : pluralWord}`\n)\nexport const pluralItems = (nr, includeNr = true) => plural(nr, 'item', 'items', includeNr)\n\n// ################################ //\n// ########## Test cases ########## //\n// ################################ //\n\nwindow.testShareMethod = (items) => {\n  const defaultTestCase = [\n    { id: 'GmQHYM3b8i', text: 'Make to do list', checked: true },\n    { id: 'HP3OJ6nOIG', text: 'Realize you\\'ve already accomplished 2 things', checked: true },\n    { id: 't6brMWNG2d', text: 'Check off first thing on to do list', checked: true },\n    { id: 'DbxtHafhkH', text: 'Reward yourself with nap', checked: false }\n  ]\n  const itemsX = Array.isArray(items) ? items : defaultTestCase\n\n  console.log('itemsBefore:', itemsX)\n  const itemsStringified = stringifyItems(itemsX)\n  console.log('itemsStringified:', itemsStringified)\n  const itemsY = parseItems(itemsStringified)\n  console.log('itemsAfter:', itemsY)\n\n  const x = itemsX.reduce((acc, curr) => (acc += `|${curr.text}${curr.checked ? '1' : '0'}`), '').substr(1)\n  const y = itemsY.reduce((acc, curr) => (acc += `|${curr.text}${curr.checked ? '1' : '0'}`), '').substr(1)\n  console.log('X:', x)\n  console.log('Y:', y)\n  console.log('is items the same: ', x === y ? 'YES' : 'NO!')\n}\n","/* globals localStorage, alert */\nimport React, { Component, Fragment } from 'react'\nimport { MuiThemeProvider, createMuiTheme } from '@material-ui/core/styles'\nimport indigo from '@material-ui/core/colors/indigo'\nimport {\n  AppBar,\n  Toolbar,\n  Typography,\n  Button,\n  Fab,\n  TextField,\n  IconButton,\n  Menu,\n  MenuItem,\n  ListItemIcon,\n  ListItemText,\n  Snackbar,\n  Zoom,\n  Dialog,\n  DialogTitle,\n  DialogContent,\n  DialogContentText,\n  DialogActions\n} from '@material-ui/core'\nimport {\n  Add as AddIcon,\n  MoreVert as MoreVertIcon,\n  Share as ShareIcon,\n  DeleteSweep as DeleteSweepIcon,\n  Close as CloseIcon\n} from '@material-ui/icons'\nimport { arrayMove } from 'react-sortable-hoc'\nimport { CopyToClipboard } from 'react-copy-to-clipboard'\n\nimport ListList from './components/ListList'\nimport {\n  makeId,\n  getShareLink,\n  parseItems,\n  getQueryVariable,\n  pluralItems\n} from './utilityFunctions'\n\nconst theme = createMuiTheme({\n  palette: {\n    primary: indigo\n  },\n  typography: {\n    useNextVariants: true\n  }\n})\n\nclass App extends Component {\n  constructor (props) {\n    super(props)\n\n    this.state = {\n      items: [],\n      sortingItem: null,\n      modalAddItemsOpen: false,\n      textareaAddItems: '',\n      appMenuAnchorEl: null,\n      confirmCounterdeleteAllChecked: 0,\n      confirmCounterdeleteAllItems: 0,\n      snackbarCopiedConfirmOpen: false,\n      snackbarDeletedUndoOpen: false,\n      itemsToBeImport: [],\n      itemsBeforeDeletion: []\n    }\n\n    this.loadStateFromLocalStorage = this.loadStateFromLocalStorage.bind(this)\n    this.saveStateToLocalStorage = this.saveStateToLocalStorage.bind(this)\n    this.checkForImports = this.checkForImports.bind(this)\n    this.onSortStart = this.onSortStart.bind(this)\n    this.onSortEnd = this.onSortEnd.bind(this)\n    this.onAdd = this.onAdd.bind(this)\n    this.onCheck = this.onCheck.bind(this)\n    this.onEdit = this.onEdit.bind(this)\n    this.onDelete = this.onDelete.bind(this)\n    this.onDeleteAllChecked = this.onDeleteAllChecked.bind(this)\n    this.onDeleteAllItems = this.onDeleteAllItems.bind(this)\n    this.handleImportConflictClose = this.handleImportConflictClose.bind(this)\n  }\n\n  componentDidMount () {\n    this.loadStateFromLocalStorage().then(() => {\n      this.checkForImports()\n    })\n  }\n\n  loadStateFromLocalStorage () {\n    return new Promise(resolve => {\n      // Parse the localStorage json string to hopefully an array and update the state\n      const items = JSON.parse(localStorage.getItem('list'))\n      if (Array.isArray(items)) {\n        this.setState({ items }, () => resolve())\n      } else {\n        resolve()\n      }\n    })\n  }\n\n  saveStateToLocalStorage () {\n    return new Promise(resolve => {\n      localStorage.setItem('list', JSON.stringify(this.state.items))\n      resolve()\n    })\n  }\n\n  // TODO: Cleanup console logs\n  checkForImports () {\n    const importString = getQueryVariable('import')\n    // console.log('importString:', importString)\n    if (importString === false || importString === '') return\n\n    const newItems = parseItems(importString)\n    // console.log('newItems:', newItems)\n    if (!Array.isArray(newItems) || newItems.length === 0) return\n\n    // console.log('current list length:', this.state.items.length)\n    if (this.state.items.length === 0) {\n      // console.log('Item loaded from import string')\n      this.setState({ items: newItems }, () => {\n        this.saveStateToLocalStorage().then(() => {\n          // Refresh and drop all query variables like '?import=YTB8...'\n          window.location.href = `${window.location.origin}${window.location.pathname}`\n        })\n      })\n    } else {\n      this.setState({ itemsToBeImport: newItems })\n    }\n  }\n\n  onSortStart ({ index }) {\n    this.setState({ sortingItem: index })\n  }\n\n  onSortEnd ({ oldIndex, newIndex }) {\n    const items = arrayMove(this.state.items, oldIndex, newIndex)\n    this.setState({ items, sortingItem: null }, () => {\n      this.saveStateToLocalStorage()\n    })\n  }\n\n  onAdd (strItems) {\n    // Convert list items from being a string to an object\n    const newItems = strItems.trim().replace('\\r', '').split('\\n').map(strItem => ({\n      id: makeId(),\n      text: strItem,\n      checked: false\n    }))\n    // Concat the new items to current items\n    this.overwriteItems([...this.state.items, ...newItems])\n  }\n\n  onCheck (id) {\n    const items = this.state.items.map((item) => {\n      if (item.id === id) {\n        item.checked = !item.checked\n      }\n      return item\n    })\n    this.overwriteItems(items)\n  }\n\n  onEdit (id, newText) {\n    const items = this.state.items.map((item) => {\n      if (item.id === id) {\n        item.text = newText\n      }\n      return item\n    })\n    this.overwriteItems(items)\n  }\n\n  onDelete (id) {\n    this.setState({\n      itemsBeforeDeletion: this.state.items,\n      snackbarDeletedUndoOpen: true\n    }, () => {\n      const items = this.state.items.filter(item => item.id !== id)\n      this.overwriteItems(items)\n    })\n  }\n\n  onDeleteAllChecked () {\n    this.setState({\n      itemsBeforeDeletion: this.state.items,\n      snackbarDeletedUndoOpen: true\n    }, () => {\n      const items = this.state.items.filter(item => !item.checked)\n      this.overwriteItems(items)\n    })\n  }\n\n  onDeleteAllItems () {\n    this.setState({\n      itemsBeforeDeletion: this.state.items,\n      snackbarDeletedUndoOpen: true\n    }, () => {\n      this.overwriteItems([])\n    })\n  }\n\n  onUndoDeletion () {\n    this.overwriteItems(this.state.itemsBeforeDeletion).then(() => {\n      this.setState({ itemsBeforeDeletion: [] })\n    })\n  }\n\n  overwriteItems (newItems) {\n    return new Promise(resolve => {\n      this.setState({ items: newItems }, () => {\n        this.saveStateToLocalStorage().then(() => {\n          resolve()\n        })\n      })\n    })\n  }\n\n  handleImportConflictClose () {\n    // Empty itemsToBeImport then drop all query variables\n    this.setState({ itemsToBeImport: [] }, () => {\n      window.location.href = `${window.location.origin}${window.location.pathname}`\n    })\n  }\n\n  render () {\n    const {\n      items,\n      sortingItem,\n      modalAddItemsOpen,\n      textareaAddItems,\n      appMenuAnchorEl,\n      confirmCounterdeleteAllChecked,\n      confirmCounterdeleteAllItems,\n      snackbarCopiedConfirmOpen,\n      snackbarDeletedUndoOpen,\n      itemsToBeImport,\n      itemsBeforeDeletion\n    } = this.state\n\n    const menuAppOpen = Boolean(appMenuAnchorEl)\n    const modalImportConflictOpen = itemsToBeImport.length > 0\n    const isAnyItemsChecked = items.some(item => item.checked)\n\n    return (\n      <MuiThemeProvider theme={theme}>\n        <AppBar position='static' className='mb-5'>\n          <Toolbar>\n            <Typography\n              variant='h6'\n              color='inherit'\n              style={{ flexGrow: 1 }}\n              title={`Version ${window.appVersion}`}\n            >List List</Typography>\n            <IconButton\n              aria-label='app options'\n              aria-owns={menuAppOpen ? 'app-options' : null}\n              aria-haspopup='true'\n              onClick={(e) => this.setState({ appMenuAnchorEl: e.currentTarget })}\n              color='inherit'\n            >\n              <MoreVertIcon color='inherit' />\n            </IconButton>\n          </Toolbar>\n        </AppBar>\n        <div className='container px-0' style={{ paddingBottom: 108 }}>\n          {items.length === 0 &&\n            <Fragment>\n              <p className='text-center p-3'>Your list is empty! You can easily add items to it by pressing the button below</p>\n              <Zoom in={!modalAddItemsOpen}>\n                <p className='text-center'>\n                  <Button\n                    variant='contained'\n                    color='primary'\n                    aria-label='add'\n                    onClick={() => this.setState({ modalAddItemsOpen: true })}\n                  >\n                    Add items\n                  </Button>\n                </p>\n              </Zoom>\n            </Fragment>\n          }\n          {items.length > 0 &&\n            <ListList\n              items={items}\n              sortingItemIndex={sortingItem}\n              onSortEnd={this.onSortEnd}\n              onCheck={this.onCheck}\n              onEdit={this.onEdit}\n              onDelete={this.onDelete}\n              onSortStart={this.onSortStart}\n            />\n          }\n        </div>\n        <Zoom in={!modalAddItemsOpen}>\n          <Fab\n            color='primary'\n            aria-label='add'\n            onClick={() => this.setState({ modalAddItemsOpen: true })}\n            style={{ position: 'fixed', bottom: 26, right: 26 }}\n          >\n            <AddIcon />\n          </Fab>\n        </Zoom>\n        <Menu\n          id='app-options'\n          anchorEl={appMenuAnchorEl}\n          open={menuAppOpen}\n          onClose={() => this.setState({ appMenuAnchorEl: null })}\n          onExited={() => this.setState({ confirmCounterdeleteAllItems: 0 })}\n        >\n          <CopyToClipboard\n            text={getShareLink(this.state.items)}\n            onCopy={(text, result) => {\n              if (text !== '' && result) {\n                this.setState({ snackbarCopiedConfirmOpen: true, appMenuAnchorEl: null })\n              } else {\n                console.log('ERROR - CopyToClipboard.onCopy() - (text, result):', text, result)\n                // TODO: Handle this better, drop the alert and display model with message and link so it can be copied manually\n                alert('Some error occurred when copying to clipboard but here is the link:\\n' + getShareLink(this.state.items))\n              }\n            }}\n          >\n            <MenuItem>\n              <ListItemIcon><ShareIcon /></ListItemIcon>\n              <ListItemText inset primary='Copy share link' />\n            </MenuItem>\n          </CopyToClipboard>\n          {isAnyItemsChecked &&\n            <MenuItem onClick={() => {\n              if (confirmCounterdeleteAllChecked === 1) {\n                this.onDeleteAllChecked()\n                this.setState({ confirmCounterdeleteAllChecked: 0, appMenuAnchorEl: null })\n              } else {\n                this.setState({ confirmCounterdeleteAllChecked: (confirmCounterdeleteAllChecked + 1) })\n              }\n            }}>\n              <ListItemIcon><DeleteSweepIcon /></ListItemIcon>\n              <ListItemText inset primary={\n                confirmCounterdeleteAllChecked === 0 ? 'Delete all checked' : 'Are you sure?'\n              } />\n            </MenuItem>\n          }\n          <MenuItem onClick={() => {\n            if (confirmCounterdeleteAllItems === 1) {\n              this.onDeleteAllItems()\n              this.setState({ confirmCounterdeleteAllItems: 0, appMenuAnchorEl: null })\n            } else {\n              this.setState({ confirmCounterdeleteAllItems: (confirmCounterdeleteAllItems + 1) })\n            }\n          }}>\n            <ListItemIcon><DeleteSweepIcon /></ListItemIcon>\n            <ListItemText inset primary={\n              confirmCounterdeleteAllItems === 0 ? 'Delete all' : 'Are you sure?'\n            } />\n          </MenuItem>\n        </Menu>\n        <Dialog\n          open={modalAddItemsOpen}\n          onClose={() => this.setState({ modalAddItemsOpen: false })}\n          aria-labelledby='dialog-title'\n          aria-describedby='dialog-description'\n        >\n          <DialogTitle id='dialog-title'>Add to list</DialogTitle>\n          <DialogContent>\n            <DialogContentText id='dialog-description'>\n              You can add many by spliting them into multiple lines\n            </DialogContentText>\n            <TextField\n              rows='7'\n              multiline\n              fullWidth\n              autoFocus\n              onChange={(e) => this.setState({ textareaAddItems: e.target.value })}\n              value={textareaAddItems}\n            />\n          </DialogContent>\n          <DialogActions>\n            <Button variant='contained' color='primary' onClick={() => {\n              this.onAdd(textareaAddItems)\n              this.setState({ modalAddItemsOpen: false, textareaAddItems: '' })\n            }}>\n              Add them\n            </Button>\n          </DialogActions>\n        </Dialog>\n        <Snackbar\n          anchorOrigin={{ vertical: 'top', horizontal: 'right' }}\n          open={snackbarCopiedConfirmOpen}\n          onClose={(event, reason) => {\n            if (reason === 'clickaway') return\n            this.setState({ snackbarCopiedConfirmOpen: false })\n          }}\n          autoHideDuration={2000}\n          ContentProps={{ 'aria-describedby': 'message-id' }}\n          message={<span id='message-id'>Link copied!</span>}\n        />\n        <Snackbar\n          anchorOrigin={{ vertical: 'bottom', horizontal: 'left' }}\n          open={snackbarDeletedUndoOpen}\n          onClose={(event, reason) => {\n            if (reason === 'clickaway') return\n            this.setState({ snackbarDeletedUndoOpen: false })\n          }}\n          autoHideDuration={4000}\n          ContentProps={{ 'aria-describedby': 'message-id' }}\n          message={<span id='message-id'>{pluralItems(itemsBeforeDeletion.length - items.length)} have been deleted</span>}\n          action={[\n            <Button\n              key='undo'\n              variant='contained'\n              color='secondary'\n              size='small'\n              onClick={() => {\n                this.onUndoDeletion()\n                this.setState({ snackbarDeletedUndoOpen: false })\n              }}\n            >\n              Undo\n            </Button>,\n            <IconButton\n              key='close'\n              aria-label='Close'\n              color='inherit'\n              onClick={() => this.setState({ snackbarDeletedUndoOpen: false })}\n            >\n              <CloseIcon />\n            </IconButton>\n          ]}\n        />\n        <Dialog\n          open={modalImportConflictOpen}\n          onClose={this.handleImportConflictClose}\n          aria-labelledby='dialog-title'\n          aria-describedby='dialog-description'\n        >\n          <DialogTitle id='dialog-title'>Import conflict detected</DialogTitle>\n          <DialogContent>\n            <DialogContentText id='dialog-description'>\n            You are trying to import {pluralItems(itemsToBeImport.length)} but there are already {pluralItems(items.length)} on your list. What do you want to do?\n            </DialogContentText>\n          </DialogContent>\n          <DialogActions>\n            <Button variant='contained' color='primary' onClick={() => {\n              this.overwriteItems([...items, ...itemsToBeImport]).then(() => {\n                this.handleImportConflictClose()\n              })\n            }}>\n              Merge\n            </Button>\n            <Button variant='contained' color='secondary' onClick={() => {\n              this.overwriteItems(itemsToBeImport).then(() => {\n                this.handleImportConflictClose()\n              })\n            }}>\n              Overwrite\n            </Button>\n            <Button variant='contained' color='default' style={{ position: 'absolute', left: 4 }} onClick={() => {\n              this.handleImportConflictClose()\n            }}>\n              Cancel\n            </Button>\n          </DialogActions>\n        </Dialog>\n      </MuiThemeProvider>\n    )\n  }\n}\n\nexport default App\n","// In production, we register a service worker to serve assets from local cache.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\n// cached resources are updated in the background.\n\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\n// This link also includes instructions on opting out of this behavior.\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport default function register() {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Lets check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\n          );\n        });\n      } else {\n        // Is not local host. Just register service worker\n        registerValidSW(swUrl);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the old content will have been purged and\n              // the fresh content will have been added to the cache.\n              // It's the perfect time to display a \"New content is\n              // available; please refresh.\" message in your web app.\n              console.log('New content is available; please refresh.');\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      if (\n        response.status === 404 ||\n        response.headers.get('content-type').indexOf('javascript') === -1\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\n\nimport App from './App'\n\nimport registerServiceWorker from './registerServiceWorker'\n\nimport packageJson from '../package.json'\nwindow.appVersion = packageJson.version\n\nReactDOM.render(<App />, document.getElementById('root'))\nregisterServiceWorker()\n"],"sourceRoot":""}