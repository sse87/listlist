(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{147:function(e){e.exports={name:"listlist",version:"1.5.1",description:"Simple, sortable, mobile-friendly todo list.",author:{name:"Sigur\xf0ur Sn\xe6r Eir\xedksson",email:"sse1987@gmail.com"},homepage:"https://sse87.github.io/listlist",dependencies:{"@material-ui/core":"^3.9.2","@material-ui/icons":"^3.0.2","prop-types":"^15.7.2",react:"^16.8.3","react-copy-to-clipboard":"^5.0.1","react-dom":"^16.8.3","react-scripts":"2.1.5","react-sortable-hoc":"^1.6.1"},devDependencies:{"gh-pages":"^2.0.1",standard:"^12.0.1"},scripts:{start:"react-scripts start",build:"react-scripts build",test:"react-scripts test --env=jsdom",predeploy:"npm run build",deploy:"gh-pages -d build"},browserslist:[">0.2%","not dead","not ie <= 11","not op_mini all"]}},5420:function(e,t,n){e.exports=n(5568)},5425:function(e,t,n){},5568:function(e,t,n){"use strict";n.r(t);var o=n(0),a=n.n(o),i=n(16),r=n.n(i),l=(n(5425),n(44)),c=n(55),s=n(56),d=n(58),m=n(57),u=n(17),h=n(59),p=n(20),f=n(90),g=n.n(f),b=n(5),v=n(19),E=n(34),k=n(145),y=n(43),C=n.n(y),S=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={editingItem:!1,editingText:"",itemMenuAnchorEl:null},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.item,i=t.isItemActive,r=t.onCheck,l=t.onEdit,c=t.onDelete,s=this.state,d=s.editingItem,m=s.editingText,u=s.itemMenuAnchorEl,h=Boolean(u);return a.a.createElement(b.l,{className:"mb-4",component:b.q,elevation:i?4:1,style:{opacity:n.checked?.6:1}},!d&&a.a.createElement(o.Fragment,null,a.a.createElement(b.n,{primary:a.a.createElement(o.Fragment,null,a.a.createElement(b.c,{checked:n.checked,color:"primary"}),a.a.createElement("span",{style:{fontWeight:"bold",userSelect:"none",textDecoration:n.checked?"line-through":"none"}},n.text)),onClick:function(){return r(n.id)}}),a.a.createElement(b.k,{"aria-label":"item options","aria-owns":h?"item-menu":null,"aria-haspopup":"true",onClick:function(t){return e.setState({itemMenuAnchorEl:t.currentTarget})}},a.a.createElement(v.g,null)),a.a.createElement(b.o,{id:"item-menu",anchorEl:u,open:h,onClose:function(){return e.setState({itemMenuAnchorEl:null})}},a.a.createElement(b.p,{onClick:function(){return e.setState({editingItem:!0,editingText:n.text,itemMenuAnchorEl:null})}},a.a.createElement(b.m,null,a.a.createElement(v.f,null)),a.a.createElement(b.n,{inset:!0,primary:"Edit"})),a.a.createElement(b.p,{onClick:function(){return c(n.id)}},a.a.createElement(b.m,null,a.a.createElement(v.d,null)),a.a.createElement(b.n,{inset:!0,primary:"Delete"})))),d&&a.a.createElement(b.j,{container:!0,className:"d-block d-sm-flex"},a.a.createElement(b.j,{item:!0,style:{flexGrow:1}},a.a.createElement(b.s,{fullWidth:!0,autoFocus:!0,onChange:function(t){return e.setState({editingText:t.target.value})},value:m})),a.a.createElement(b.j,{item:!0,className:"mt-3 mt-sm-0"},a.a.createElement(b.b,{className:"ml-2",variant:"contained",size:"small",color:"primary",onClick:function(){l(n.id,m),e.setState({editingItem:!1,editingText:""})}},a.a.createElement(v.b,{style:{fontSize:20}}),a.a.createElement("span",{className:"d-none d-sm-block ml-1"},"Save")),a.a.createElement(b.b,{className:"ml-2",variant:"contained",size:"small",onClick:function(){e.setState({editingItem:!1,editingText:""})}},a.a.createElement(v.c,{style:{fontSize:20}}),a.a.createElement("span",{className:"d-none d-sm-block ml-1"},"Cancel")))))}}]),t}(o.Component);S.defaultProps={};var w=Object(E.SortableElement)(S),I=function(e){var t=e.items,n=e.sortingItemIndex,o=e.onCheck,i=e.onEdit,r=e.onDelete,l=e.onSortStart,c=e.onSortEnd;return a.a.createElement(O,{items:t,sortingItemIndex:n,onCheck:o,onEdit:i,onDelete:r,onSortStart:l,onSortEnd:c,lockAxis:"y",useWindowAsScrollContainer:!0,transitionDuration:600,pressDelay:100,helperClass:"item--active"})};I.defaultProps={items:[],sortingItemIndex:null};var A=I,O=Object(E.SortableContainer)(function(e){var t=e.items,n=e.sortingItemIndex,o=e.onCheck,i=e.onEdit,r=e.onDelete;return a.a.createElement(C.a,{style:{padding:0}},t.map(function(e,t){return a.a.createElement(w,{key:"item-".concat(e.id),index:t,item:e,isItemActive:n===t,onCheck:o,onEdit:i,onDelete:r})}))}),x="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10;return Array(e).join().split(",").map(function(){return x.charAt(Math.floor(Math.random()*x.length))}).join("")},j=function(e){return btoa(e.reduce(function(e,t){return e+"|".concat(t.text).concat(t.checked?"1":"0")},"").substr(1)).replace(/\+/g,".").replace(/\//g,"_").replace(/=/g,"-")},T=function(e){return"".concat(window.location.origin).concat(window.location.pathname).concat(e.length>0?"?import=".concat(j(e)):"")},M=function(e){return e=e.replace(/\./g,"+").replace(/_/g,"/").replace(/-/g,"="),atob(e).replace(/(\d)\|/g,"$1".concat("{{proper_delimiter}}")).split("{{proper_delimiter}}").map(function(e){return{id:D(),text:e.substring(0,e.length-1),checked:"1"===e.substring(e.length-1)}})},N=function(e){return function(e,t,n){var o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];return"".concat(o?e+" ":"").concat(1===e?t:n)}(e,"item","items",!(arguments.length>1&&void 0!==arguments[1])||arguments[1])};window.testShareMethod=function(e){var t=Array.isArray(e)?e:[{id:"GmQHYM3b8i",text:"Make to do list",checked:!0},{id:"HP3OJ6nOIG",text:"Realize you've already accomplished 2 things",checked:!0},{id:"t6brMWNG2d",text:"Check off first thing on to do list",checked:!0},{id:"DbxtHafhkH",text:"Reward yourself with nap",checked:!1}];console.log("itemsBefore:",t);var n=j(t);console.log("itemsStringified:",n);var o=M(n);console.log("itemsAfter:",o);var a=t.reduce(function(e,t){return e+"|".concat(t.text).concat(t.checked?"1":"0")},"").substr(1),i=o.reduce(function(e,t){return e+"|".concat(t.text).concat(t.checked?"1":"0")},"").substr(1);console.log("X:",a),console.log("Y:",i),console.log("is items the same: ",a===i?"YES":"NO!")};var B=Object(p.createMuiTheme)({palette:{primary:g.a},typography:{useNextVariants:!0}}),L=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).state={items:[],sortingItem:null,modalAddItemsOpen:!1,textareaAddItems:"",appMenuAnchorEl:null,confirmCounterdeleteAllChecked:0,confirmCounterdeleteAllItems:0,snackbarCopiedConfirmOpen:!1,snackbarDeletedUndoOpen:!1,itemsToBeImport:[],itemsBeforeDeletion:[]},n.loadStateFromLocalStorage=n.loadStateFromLocalStorage.bind(Object(u.a)(n)),n.saveStateToLocalStorage=n.saveStateToLocalStorage.bind(Object(u.a)(n)),n.checkForImports=n.checkForImports.bind(Object(u.a)(n)),n.onSortStart=n.onSortStart.bind(Object(u.a)(n)),n.onSortEnd=n.onSortEnd.bind(Object(u.a)(n)),n.onAdd=n.onAdd.bind(Object(u.a)(n)),n.onCheck=n.onCheck.bind(Object(u.a)(n)),n.onEdit=n.onEdit.bind(Object(u.a)(n)),n.onDelete=n.onDelete.bind(Object(u.a)(n)),n.onDeleteAllChecked=n.onDeleteAllChecked.bind(Object(u.a)(n)),n.onDeleteAllItems=n.onDeleteAllItems.bind(Object(u.a)(n)),n.handleImportConflictClose=n.handleImportConflictClose.bind(Object(u.a)(n)),n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){var e=this;this.loadStateFromLocalStorage().then(function(){e.checkForImports()})}},{key:"loadStateFromLocalStorage",value:function(){var e=this;return new Promise(function(t){var n=JSON.parse(localStorage.getItem("list"));Array.isArray(n)?e.setState({items:n},function(){return t()}):t()})}},{key:"saveStateToLocalStorage",value:function(){var e=this;return new Promise(function(t){localStorage.setItem("list",JSON.stringify(e.state.items)),t()})}},{key:"checkForImports",value:function(){var e=this,t=function(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var o=t[n].indexOf("=");if(t[n].substr(0,o)===e)return t[n].substr(o+1)}return!1}("import");if(!1!==t&&""!==t){var n=M(t);Array.isArray(n)&&0!==n.length&&(0===this.state.items.length?this.setState({items:n},function(){e.saveStateToLocalStorage().then(function(){window.location.href="".concat(window.location.origin).concat(window.location.pathname)})}):this.setState({itemsToBeImport:n}))}}},{key:"onSortStart",value:function(e){var t=e.index;this.setState({sortingItem:t})}},{key:"onSortEnd",value:function(e){var t=this,n=e.oldIndex,o=e.newIndex,a=Object(E.arrayMove)(this.state.items,n,o);this.setState({items:a,sortingItem:null},function(){t.saveStateToLocalStorage()})}},{key:"onAdd",value:function(e){var t=e.trim().replace("\r","").split("\n").map(function(e){return{id:D(),text:e,checked:!1}});this.overwriteItems([].concat(Object(l.a)(this.state.items),Object(l.a)(t)))}},{key:"onCheck",value:function(e){var t=this.state.items.map(function(t){return t.id===e&&(t.checked=!t.checked),t});this.overwriteItems(t)}},{key:"onEdit",value:function(e,t){var n=this.state.items.map(function(n){return n.id===e&&(n.text=t),n});this.overwriteItems(n)}},{key:"onDelete",value:function(e){var t=this;this.setState({itemsBeforeDeletion:this.state.items,snackbarDeletedUndoOpen:!0},function(){var n=t.state.items.filter(function(t){return t.id!==e});t.overwriteItems(n)})}},{key:"onDeleteAllChecked",value:function(){var e=this;this.setState({itemsBeforeDeletion:this.state.items,snackbarDeletedUndoOpen:!0},function(){var t=e.state.items.filter(function(e){return!e.checked});e.overwriteItems(t)})}},{key:"onDeleteAllItems",value:function(){var e=this;this.setState({itemsBeforeDeletion:this.state.items,snackbarDeletedUndoOpen:!0},function(){e.overwriteItems([])})}},{key:"onUndoDeletion",value:function(){var e=this;this.overwriteItems(this.state.itemsBeforeDeletion).then(function(){e.setState({itemsBeforeDeletion:[]})})}},{key:"overwriteItems",value:function(e){var t=this;return new Promise(function(n){t.setState({items:e},function(){t.saveStateToLocalStorage().then(function(){n()})})})}},{key:"handleImportConflictClose",value:function(){this.setState({itemsToBeImport:[]},function(){window.location.href="".concat(window.location.origin).concat(window.location.pathname)})}},{key:"render",value:function(){var e=this,t=this.state,n=t.items,i=t.sortingItem,r=t.modalAddItemsOpen,c=t.textareaAddItems,s=t.appMenuAnchorEl,d=t.confirmCounterdeleteAllChecked,m=t.confirmCounterdeleteAllItems,u=t.snackbarCopiedConfirmOpen,h=t.snackbarDeletedUndoOpen,f=t.itemsToBeImport,g=t.itemsBeforeDeletion,E=Boolean(s),y=f.length>0,C=n.some(function(e){return e.checked});return a.a.createElement(p.MuiThemeProvider,{theme:B},a.a.createElement(b.a,{position:"static",className:"mb-5"},a.a.createElement(b.t,null,a.a.createElement(b.u,{variant:"h6",color:"inherit",style:{flexGrow:1},title:"Version ".concat(window.appVersion)},"List List"),a.a.createElement(b.k,{"aria-label":"app options","aria-owns":E?"app-options":null,"aria-haspopup":"true",onClick:function(t){return e.setState({appMenuAnchorEl:t.currentTarget})},color:"inherit"},a.a.createElement(v.g,{color:"inherit"})))),a.a.createElement("div",{className:"container px-0",style:{paddingBottom:108}},0===n.length&&a.a.createElement(o.Fragment,null,a.a.createElement("p",{className:"text-center p-3"},"Your list is empty! You can easily add items to it by pressing the button below"),a.a.createElement(b.v,{in:!r},a.a.createElement("p",{className:"text-center"},a.a.createElement(b.b,{variant:"contained",color:"primary","aria-label":"add",onClick:function(){return e.setState({modalAddItemsOpen:!0})}},"Add items")))),n.length>0&&a.a.createElement(A,{items:n,sortingItemIndex:i,onSortEnd:this.onSortEnd,onCheck:this.onCheck,onEdit:this.onEdit,onDelete:this.onDelete,onSortStart:this.onSortStart})),a.a.createElement(b.v,{in:!r},a.a.createElement(b.i,{color:"primary","aria-label":"add",onClick:function(){return e.setState({modalAddItemsOpen:!0})},style:{position:"fixed",bottom:26,right:26}},a.a.createElement(v.a,null))),a.a.createElement(b.o,{id:"app-options",anchorEl:s,open:E,onClose:function(){return e.setState({appMenuAnchorEl:null})},onExited:function(){return e.setState({confirmCounterdeleteAllItems:0})}},a.a.createElement(k.CopyToClipboard,{text:T(this.state.items),onCopy:function(t,n){""!==t&&n?e.setState({snackbarCopiedConfirmOpen:!0,appMenuAnchorEl:null}):(console.log("ERROR - CopyToClipboard.onCopy() - (text, result):",t,n),alert("Some error occurred when copying to clipboard but here is the link:\n"+T(e.state.items)))}},a.a.createElement(b.p,null,a.a.createElement(b.m,null,a.a.createElement(v.h,null)),a.a.createElement(b.n,{inset:!0,primary:"Copy share link"}))),C&&a.a.createElement(b.p,{onClick:function(){1===d?(e.onDeleteAllChecked(),e.setState({confirmCounterdeleteAllChecked:0,appMenuAnchorEl:null})):e.setState({confirmCounterdeleteAllChecked:d+1})}},a.a.createElement(b.m,null,a.a.createElement(v.e,null)),a.a.createElement(b.n,{inset:!0,primary:0===d?"Delete all checked":"Are you sure?"})),a.a.createElement(b.p,{onClick:function(){1===m?(e.onDeleteAllItems(),e.setState({confirmCounterdeleteAllItems:0,appMenuAnchorEl:null})):e.setState({confirmCounterdeleteAllItems:m+1})}},a.a.createElement(b.m,null,a.a.createElement(v.e,null)),a.a.createElement(b.n,{inset:!0,primary:0===m?"Delete all":"Are you sure?"}))),a.a.createElement(b.d,{open:r,onClose:function(){return e.setState({modalAddItemsOpen:!1})},"aria-labelledby":"dialog-title","aria-describedby":"dialog-description"},a.a.createElement(b.h,{id:"dialog-title"},"Add to list"),a.a.createElement(b.f,null,a.a.createElement(b.g,{id:"dialog-description"},"You can add many by spliting them into multiple lines"),a.a.createElement(b.s,{rows:"7",multiline:!0,fullWidth:!0,autoFocus:!0,onChange:function(t){return e.setState({textareaAddItems:t.target.value})},value:c})),a.a.createElement(b.e,null,a.a.createElement(b.b,{variant:"contained",color:"primary",onClick:function(){e.onAdd(c),e.setState({modalAddItemsOpen:!1,textareaAddItems:""})}},"Add them"))),a.a.createElement(b.r,{anchorOrigin:{vertical:"top",horizontal:"right"},open:u,onClose:function(t,n){"clickaway"!==n&&e.setState({snackbarCopiedConfirmOpen:!1})},autoHideDuration:2e3,ContentProps:{"aria-describedby":"message-id"},message:a.a.createElement("span",{id:"message-id"},"Link copied!")}),a.a.createElement(b.r,{anchorOrigin:{vertical:"bottom",horizontal:"left"},open:h,onClose:function(t,n){"clickaway"!==n&&e.setState({snackbarDeletedUndoOpen:!1})},autoHideDuration:4e3,ContentProps:{"aria-describedby":"message-id"},message:a.a.createElement("span",{id:"message-id"},N(g.length-n.length)," have been deleted"),action:[a.a.createElement(b.b,{key:"undo",variant:"contained",color:"secondary",size:"small",onClick:function(){e.onUndoDeletion(),e.setState({snackbarDeletedUndoOpen:!1})}},"Undo"),a.a.createElement(b.k,{key:"close","aria-label":"Close",color:"inherit",onClick:function(){return e.setState({snackbarDeletedUndoOpen:!1})}},a.a.createElement(v.c,null))]}),a.a.createElement(b.d,{open:y,onClose:this.handleImportConflictClose,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description"},a.a.createElement(b.h,{id:"dialog-title"},"Import conflict detected"),a.a.createElement(b.f,null,a.a.createElement(b.g,{id:"dialog-description"},"You are trying to import ",N(f.length)," but there are already ",N(n.length)," on your list. What do you want to do?")),a.a.createElement(b.e,null,a.a.createElement(b.b,{variant:"contained",color:"primary",onClick:function(){e.overwriteItems([].concat(Object(l.a)(n),Object(l.a)(f))).then(function(){e.handleImportConflictClose()})}},"Merge"),a.a.createElement(b.b,{variant:"contained",color:"secondary",onClick:function(){e.overwriteItems(f).then(function(){e.handleImportConflictClose()})}},"Overwrite"),a.a.createElement(b.b,{variant:"contained",color:"default",style:{position:"absolute",left:4},onClick:function(){e.handleImportConflictClose()}},"Cancel"))))}}]),t}(o.Component),F=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function U(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}var W=n(147);window.appVersion=W.version,r.a.render(a.a.createElement(L,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/listlist",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/listlist","/service-worker.js");F?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):U(e)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):U(e)})}}()}},[[5420,1,2]]]);
//# sourceMappingURL=main.5e42131b.chunk.js.map